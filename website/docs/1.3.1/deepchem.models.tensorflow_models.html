<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>deepchem package &mdash; deepchem 1.3.1 documentation</title>

    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deepchem 1.3.1 documentation" href="index.html" />
    <link rel="next" title="deepchem.data package" href="deepchem.data.html" />
    <link rel="prev" title="DeepChem" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/logo.png"></span>
          deepchem</a>
        <span class="navbar-text navbar-version pull-left"><b>1.3.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">

                <li><a href="/docs/notebooks/index.html">Tutorials</a></li>


              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="/docs/deepchem.html">master</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="/docs/1.3.1/deepchem.html">1.3.1</a></li>
</ul>
</ul>
</li>
</ul>
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

        </div>
    </div>
  </div><div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="deepchem-models-tensorflow-models-package">
<h1>deepchem.models.tensorflow_models package<a class="headerlink" href="#deepchem-models-tensorflow-models-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepchem.models.tensorflow_models.IRV">
<span id="deepchem-models-tensorflow-models-irv-module"></span><h2>deepchem.models.tensorflow_models.IRV module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.IRV" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.IRV.</code><code class="descname">TensorflowMultiTaskIRVClassifier</code><span class="sig-paren">(</span><em>n_tasks</em>, <em>K=10</em>, <em>logdir=None</em>, <em>n_classes=2</em>, <em>penalty=0.0</em>, <em>penalty_type='l2'</em>, <em>learning_rate=0.001</em>, <em>momentum=0.8</em>, <em>optimizer='adam'</em>, <em>batch_size=50</em>, <em>verbose=True</em>, <em>seed=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression" title="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture of IRV as described in:</p>
<p><a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/</a></p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.fcnet">
<span id="deepchem-models-tensorflow-models-fcnet-module"></span><h2>deepchem.models.tensorflow_models.fcnet module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.fcnet" title="Permalink to this headline">¶</a></h2>
<p>TensorFlow implementation of fully connected networks.</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorGraphMultiTaskClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, layer_sizes=[1000], weight_init_stddevs=0.02, bias_init_consts=1.0, weight_decay_penalty=0.0, weight_decay_penalty_type='l2', dropouts=0.5, activation_fns=&lt;function relu&gt;, n_classes=2, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.tensor_graph.TensorGraph</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.nn.html#deepchem.nn.copy.Layer" title="deepchem.nn.copy.Layer"><em>Layer</em></a>) &#8211; the loss function to optimize.  If None, the model&#8217;s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) &#8211; the optimizer to use for training.  If None, the model&#8217;s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskClassifier.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) &#8211; the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) &#8211; this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset to make prediction on</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>generator</strong> (<em>Generator</em>) &#8211; Generator that constructs feed dictionaries for TensorGraph.</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs.
If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
<li><strong>Returns</strong> &#8211; y_pred: numpy ndarray of shape (n_samples, n_classes*n_tasks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from the most recent checkpoint file.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskClassifier.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorGraphMultiTaskFitTransformRegressor</code><span class="sig-paren">(</span><em>n_tasks</em>, <em>n_features</em>, <em>fit_transformers=[]</em>, <em>n_evals=1</em>, <em>batch_size=50</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskFitTransformRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor</span></code></a></p>
<p>Implements a TensorGraphMultiTaskRegressor that performs on-the-fly transformation during fit/predict.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n_samples</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_features</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_tasks</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">NumpyDataset</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fit_transformers</span> <span class="o">=</span> <span class="p">[</span><span class="n">dc</span><span class="o">.</span><span class="n">trans</span><span class="o">.</span><span class="n">CoulombFitTransformer</span><span class="p">(</span><span class="n">dataset</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">TensorflowMultiTaskFitTransformRegressor</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">,</span> <span class="p">[</span><span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">dropouts</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">],</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.003</span><span class="p">,</span> <span class="n">weight_init_stddevs</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1000</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">batch_size</span><span class="o">=</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">fit_transformers</span><span class="o">=</span><span class="n">fit_transformers</span><span class="p">,</span> <span class="n">n_evals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">n_features after fit_transform: 12</span>
</pre></div>
</div>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.nn.html#deepchem.nn.copy.Layer" title="deepchem.nn.copy.Layer"><em>Layer</em></a>) &#8211; the loss function to optimize.  If None, the model&#8217;s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) &#8211; the optimizer to use for training.  If None, the model&#8217;s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskFitTransformRegressor.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) &#8211; the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) &#8211; this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset to make prediction on</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskFitTransformRegressor.predict_on_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset to make prediction on</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from the most recent checkpoint file.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskFitTransformRegressor.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorGraphMultiTaskRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, layer_sizes=[1000], weight_init_stddevs=0.02, bias_init_consts=1.0, weight_decay_penalty=0.0, weight_decay_penalty_type='l2', dropouts=0.5, activation_fns=&lt;function relu&gt;, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.tensor_graph.TensorGraph</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.nn.html#deepchem.nn.copy.Layer" title="deepchem.nn.copy.Layer"><em>Layer</em></a>) &#8211; the loss function to optimize.  If None, the model&#8217;s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) &#8211; the optimizer to use for training.  If None, the model&#8217;s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorGraphMultiTaskRegressor.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) &#8211; the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) &#8211; this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) &#8211; an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset to make prediction on</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>generator</strong> (<em>Generator</em>) &#8211; Generator that constructs feed dictionaries for TensorGraph.</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs.
If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
<li><strong>Returns</strong> &#8211; y_pred: numpy ndarray of shape (n_samples, n_classes*n_tasks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset to make prediction on</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) &#8211; the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) &#8211; List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from the most recent checkpoint file.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorGraphMultiTaskRegressor.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorflowMultiTaskClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowClassifier" title="deepchem.models.tensorflow_models.TensorflowClassifier"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowClassifier</span></code></a></p>
<p>Implements an icml model as configured in a model_config.proto.</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size x n_classes.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskClassifier.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskClassifier.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logits</strong> &#8211; Tensor with shape batch_size x n_classes containing logits.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size x n_classes containing true labels
in a one-hot encoding.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.</p>
</dd>
</dl>
<p>Note that the output arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorflowMultiTaskFitTransformRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.002, momentum=0.8, optimizer='adam', batch_size=50, fit_transformers=[], n_evals=1, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskFitTransformRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor</span></code></a></p>
<p>Implements a TensorflowMultiTaskRegressor that performs on-the-fly transformation during fit/predict</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n_samples</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_features</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_tasks</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">NumpyDataset</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fit_transformers</span> <span class="o">=</span> <span class="p">[</span><span class="n">dc</span><span class="o">.</span><span class="n">trans</span><span class="o">.</span><span class="n">CoulombFitTransformer</span><span class="p">(</span><span class="n">dataset</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">TensorflowMultiTaskFitTransformRegressor</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">,</span> <span class="p">[</span><span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">dropouts</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">],</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.003</span><span class="p">,</span> <span class="n">weight_init_stddevs</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1000</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">batch_size</span><span class="o">=</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">fit_transformers</span><span class="o">=</span><span class="n">fit_transformers</span><span class="p">,</span> <span class="n">n_evals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">n_features after fit_transform: 12</span>
</pre></div>
</div>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskFitTransformRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform fit transformations on each minibatch. Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskFitTransformRegressor.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Return model output for the provided input. Each example is evaluated</dt>
<dd>self.n_evals times.</dd>
</dl>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskFitTransformRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">TensorflowMultiTaskRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowRegressor" title="deepchem.models.tensorflow_models.TensorflowRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowRegressor</span></code></a></p>
<p>Implements an icml model as configured in a model_config.proto.</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskRegressor.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#TensorflowMultiTaskRegressor.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.lr">
<span id="deepchem-models-tensorflow-models-lr-module"></span><h2>deepchem.models.tensorflow_models.lr module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.lr" title="Permalink to this headline">¶</a></h2>
<p>Created on Tue Nov 08 14:10:02 2016</p>
<p>&#64;author: Zhenqin Wu</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.lr.</code><code class="descname">TensorflowLogisticRegression</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="deepchem.models.tensorflow_models.TensorflowGraphModel"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowGraphModel</span></code></a></p>
<p>A simple tensorflow based logistic regression model.</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.add_output_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.add_training_cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture of model: n_tasks * sigmoid nodes.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#TensorflowLogisticRegression.predict_proba_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.TensorflowLogisticRegression.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.lr.weight_decay">
<code class="descclassname">deepchem.models.tensorflow_models.lr.</code><code class="descname">weight_decay</code><span class="sig-paren">(</span><em>penalty_type</em>, <em>penalty</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/lr.html#weight_decay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.lr.weight_decay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.progressive_joint">
<span id="deepchem-models-tensorflow-models-progressive-joint-module"></span><h2>deepchem.models.tensorflow_models.progressive_joint module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.progressive_joint" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.progressive_joint.</code><code class="descname">ProgressiveJointRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, alpha_init_stddevs=[0.02], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor</span></code></a></p>
<p>Implements a progressive multitask neural network.</p>
<p>Progressive Networks: <a class="reference external" href="https://arxiv.org/pdf/1606.04671v3.pdf">https://arxiv.org/pdf/1606.04671v3.pdf</a></p>
<p>Progressive networks allow for multitask learning where each task
gets a new column of weights. As a result, there is no exponential
forgetting where previous tasks are ignored.</p>
<p>TODO(rbharath): This class is unnecessarily complicated. Can we simplify the
structure of the code here?</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_adapter">
<code class="descname">add_adapter</code><span class="sig-paren">(</span><em>all_layers</em>, <em>task</em>, <em>layer_num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.add_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an adapter connection for given task/layer combo</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_training_costs">
<code class="descname">add_training_costs</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.add_training_costs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.add_training_costs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.get_training_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_joint.html#ProgressiveJointRegressor.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_joint.ProgressiveJointRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.progressive_multitask">
<span id="deepchem-models-tensorflow-models-progressive-multitask-module"></span><h2>deepchem.models.tensorflow_models.progressive_multitask module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.progressive_multitask" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.progressive_multitask.</code><code class="descname">ProgressiveMultitaskRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, alpha_init_stddevs=[0.02], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor</span></code></a></p>
<p>Implements a progressive multitask neural network.</p>
<p>Progressive Networks: <a class="reference external" href="https://arxiv.org/pdf/1606.04671v3.pdf">https://arxiv.org/pdf/1606.04671v3.pdf</a></p>
<p>Progressive networks allow for multitask learning where each task
gets a new column of weights. As a result, there is no exponential
forgetting where previous tasks are ignored.</p>
<p>TODO(rbharath): This class is unnecessarily complicated. Can we simplify the
structure of the code here?</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_adapter">
<code class="descname">add_adapter</code><span class="sig-paren">(</span><em>all_layers</em>, <em>task</em>, <em>layer_num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.add_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an adapter connection for given task/layer combo</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_placeholders">
<code class="descname">add_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.add_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds all placeholders for this model.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_progressive_lattice">
<code class="descname">add_progressive_lattice</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.add_progressive_lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_progressive_lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_task_training_costs">
<code class="descname">add_task_training_costs</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>outputs</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.add_task_training_costs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_task_training_costs" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the training costs for each task.</p>
<p>Since each task is trained separately, each task is optimized w.r.t a separate
task.</p>
<p>TODO(rbharath): Figure out how to support weight decay for this model.
Since each task is trained separately, weight decay should only be used
on weights in column for that task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>graph</strong> (<em>tf.Graph</em>) &#8211; Graph for the model.</li>
<li><strong>name_scopes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) &#8211; Contains all the scopes for model</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of output tensors from model.</li>
<li><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of weight placeholders for model.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_training_costs">
<code class="descname">add_training_costs</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.add_training_costs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.add_training_costs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x n_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.construct_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_task_feed_dict">
<code class="descname">construct_task_feed_dict</code><span class="sig-paren">(</span><em>this_task</em>, <em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.construct_task_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.construct_task_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>tasks=None</em>, <em>close_session=True</em>, <em>max_checkpoints_to_keep=5</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<p>Progressive networks are fit by training one task at a time. Iteratively
fits one task at a time with other weights frozen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit_task">
<code class="descname">fit_task</code><span class="sig-paren">(</span><em>sess</em>, <em>dataset</em>, <em>task</em>, <em>task_train_op</em>, <em>nb_epoch=10</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.fit_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.fit_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<p>Fit one task.</p>
<p>TODO(rbharath): Figure out if the logging will work correctly with the
global_step set as it is.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>task</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; The index of the task to train on.</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_task_training_op">
<code class="descname">get_task_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>losses</em>, <em>task</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.get_task_training_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_task_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<em>tf.Graph</em>) &#8211; Graph for this op</li>
<li><strong>losses</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) &#8211; Dictionary mapping task to losses</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A training op.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.get_training_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>pad_batch=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/progressive_multitask.html#ProgressiveMultitaskRegressor.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.progressive_multitask.ProgressiveMultitaskRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.robust_multitask">
<span id="deepchem-models-tensorflow-models-robust-multitask-module"></span><h2>deepchem.models.tensorflow_models.robust_multitask module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.robust_multitask" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.robust_multitask.</code><code class="descname">RobustMultitaskClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, bypass_layer_sizes=[100], bypass_weight_init_stddevs=[0.02], bypass_bias_init_consts=[1.0], bypass_dropouts=[0.5], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/robust_multitask.html#RobustMultitaskClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier" title="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskClassifier</span></code></a></p>
<p>Implements a neural network for robust multitasking.</p>
<p>Key idea is to have bypass layers that feed directly from features to task
output. Hopefully will allow tasks to route around bad multitasking.</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size x n_classes.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/robust_multitask.html#RobustMultitaskClassifier.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x num_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logits</strong> &#8211; Tensor with shape batch_size x n_classes containing logits.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size x n_classes containing true labels
in a one-hot encoding.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.</p>
</dd>
</dl>
<p>Note that the output arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.robust_multitask.</code><code class="descname">RobustMultitaskRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, bypass_layer_sizes=[100], bypass_weight_init_stddevs=[0.02], bypass_bias_init_consts=[1.0], bypass_dropouts=[0.5], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/robust_multitask.html#RobustMultitaskRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.TensorflowMultiTaskRegressor</span></code></a></p>
<p>Implements a neural network for robust multitasking.</p>
<p>Key idea is to have bypass layers that feed directly from features to task
output. Hopefully will allow tasks to route around bad multitasking.</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/robust_multitask.html#RobustMultitaskRegressor.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture as specified in its config.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders:</dt>
<dd><dl class="first last docutils">
<dt>mol_features: Molecule descriptor (e.g. fingerprint) tensor with shape</dt>
<dd>batch_size x num_features.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a feed dictionary from minibatch data.</p>
<p>TODO(rbharath): ids_b is not used here. Can we remove it?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X_b</strong> &#8211; np.ndarray of shape (batch_size, n_features)</li>
<li><strong>y_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>w_b</strong> &#8211; np.ndarray of shape (batch_size, n_tasks)</li>
<li><strong>ids_b</strong> &#8211; List of length (batch_size) with datapoint identifiers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.robust_multitask.RobustMultitaskRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.utils">
<span id="deepchem-models-tensorflow-models-utils-module"></span><h2>deepchem.models.tensorflow_models.utils module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.utils" title="Permalink to this headline">¶</a></h2>
<p>Utils for graph convolution models.</p>
<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Kurtosis">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Kurtosis</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Kurtosis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Kurtosis" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute kurtosis, the fourth standardized moment minus three.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> &#8211; Input tensor.</li>
<li><strong>reduction_indices</strong> &#8211; Axes to reduce across. If None, reduce to a scalar.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Mask">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Mask</code><span class="sig-paren">(</span><em>t</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a mask to a tensor.</p>
<p>If not None, mask should be a t.shape[:-1] tensor of 0,1 values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> &#8211; Input tensor.</li>
<li><strong>mask</strong> &#8211; Boolean mask with shape == t.shape[:-1]. If None, nothing happens.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tensor with the same shape as the input tensor.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If shapes do not match.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Mean">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Mean</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute mean using Sum and Mul for better GPU performance.</p>
<p>See tf.nn.moments for additional notes on this approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> &#8211; Input tensor.</li>
<li><strong>reduction_indices</strong> &#8211; Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> &#8211; Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Moment">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Moment</code><span class="sig-paren">(</span><em>k</em>, <em>tensor</em>, <em>standardize=False</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the k-th central moment of a tensor, possibly standardized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>k</strong> &#8211; Which moment to compute. 1 = mean, 2 = variance, etc.</li>
<li><strong>tensor</strong> &#8211; Input tensor.</li>
<li><strong>standardize</strong> &#8211; If True, returns the standardized moment, i.e. the central
moment divided by the n-th power of the standard deviation.</li>
<li><strong>reduction_indices</strong> &#8211; Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> &#8211; Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The mean and the requested moment.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.ParseCheckpoint">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">ParseCheckpoint</code><span class="sig-paren">(</span><em>checkpoint</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#ParseCheckpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.ParseCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; Path to checkpoint. The checkpoint is either a serialized
CheckpointState proto or an actual checkpoint file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The path to an actual checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Skewness">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Skewness</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Skewness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Skewness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute skewness, the third standardized moment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> &#8211; Input tensor.</li>
<li><strong>reduction_indices</strong> &#8211; Axes to reduce across. If None, reduce to a scalar.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.StringToOp">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">StringToOp</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#StringToOp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.StringToOp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a TensorFlow op from a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; String description of an op, such as &#8216;sum&#8217; or &#8216;mean&#8217;.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TensorFlow op.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;
If string does not match a supported operation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Variance">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Variance</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Variance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute variance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> &#8211; Input tensor.</li>
<li><strong>reduction_indices</strong> &#8211; Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> &#8211; Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-deepchem.models.tensorflow_models" title="Permalink to this headline">¶</a></h2>
<p>Helper operations and classes for general model building.</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="deepchem.models.tensorflow_models.TensorflowGraphModel"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowGraphModel</span></code></a></p>
<p>Classification model.</p>
<dl class="docutils">
<dt>Subclasses must set the following attributes:</dt>
<dd><dl class="first last docutils">
<dt>output: logits op(s) used for computing classification loss and predicted</dt>
<dd>class probabilities for each task.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size x n_classes.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;</p>
<blockquote>
<div>if not overridden by concrete subclass.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;
if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logits</strong> &#8211; Tensor with shape batch_size x n_classes containing logits.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size x n_classes containing true labels
in a one-hot encoding.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.get_task_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.predict_proba_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.</p>
</dd>
</dl>
<p>Note that the output arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowGraph</code><span class="sig-paren">(</span><em>graph</em>, <em>session</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Simple class that holds information needed to run Tensorflow graph.</p>
<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.get_feed_dict">
<em class="property">static </em><code class="descname">get_feed_dict</code><span class="sig-paren">(</span><em>named_values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.get_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.get_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.get_placeholder_scope">
<em class="property">static </em><code class="descname">get_placeholder_scope</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.get_placeholder_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.get_placeholder_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets placeholder scope.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.shared_name_scope">
<em class="property">static </em><code class="descname">shared_name_scope</code><span class="sig-paren">(</span><em>name</em>, <em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.shared_name_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.shared_name_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a singleton TensorFlow scope with the given name.</p>
<p>Used to prevent &#8216;_1&#8217;-appended scopes when sharing scopes with child classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; String. Name scope for group of operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tf.name_scope with the provided name.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowGraphModel</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.html#deepchem.models.models.Model" title="deepchem.models.models.Model"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.models.Model</span></code></a></p>
<p>Parent class for deepchem Tensorflow models.</p>
<dl class="docutils">
<dt>Classifier:</dt>
<dd>n_classes</dd>
</dl>
<p>Has the following attributes:</p>
<blockquote>
<div><dl class="docutils">
<dt>placeholder_root: String placeholder prefix, used to create</dt>
<dd>placeholder_scope.</dd>
</dl>
</div></blockquote>
<p>Generic base class for defining, training, and evaluating TensorflowGraphs.</p>
<dl class="docutils">
<dt>Subclasses must implement the following methods:</dt>
<dd>build
add_output_ops
add_training_cost</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>train</strong> &#8211; If True, model is in training mode.</li>
<li><strong>logdir</strong> &#8211; Directory for output files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_example_weight_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd><dl class="first last docutils">
<dt>labels_%d: Float label tensor. For classification tasks, this tensor will</dt>
<dd>have shape batch_size x n_classes. For regression tasks, this tensor
will have shape batch_size.</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;
if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_output_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_training_cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;</p>
<blockquote>
<div>if not overridden by concrete subclass.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;
if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.construct_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with model outputs.</li>
<li><strong>labels</strong> &#8211; Tensor with true labels.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example. For use in subclasses that want to calculate additional costs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.get_num_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.get_training_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="deepchem.models.tensorflow_models.TensorflowGraphModel"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowGraphModel</span></code></a></p>
<p>Regression model.</p>
<dl class="docutils">
<dt>Subclasses must set the following attributes:</dt>
<dd><dl class="first last docutils">
<dt>output: Op(s) used for computing regression loss and predicted regression</dt>
<dd>outputs for each task.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.add_output_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;</p>
<blockquote>
<div>if not overridden by concrete subclass.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></a> &#8211;
if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> &#8211; Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> &#8211; Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> &#8211; Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) &#8211; Evaluation metric</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) &#8211; List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) &#8211; If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) &#8211; Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) &#8211; Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean, optional</em>) &#8211; If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> &#8211;
Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.get_task_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> &#8211; dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt><strong>Tuple of three numpy arrays with shape n_examples x n_tasks</strong> &#8211;</dt>
<dd><p class="first last">output: Model outputs.
labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">x ...</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> &#8211;
If model is not in evaluation mode.</li>
<li><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> &#8211;
If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) &#8211; Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> &#8211; string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.softmax">
<code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">softmax</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#softmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.softmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple numpy softmax implementation</p>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/deepchem.models.tensorflow_models.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2016, Stanford University and the Authors.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>