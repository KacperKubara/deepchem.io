<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>deepchem package &mdash; deepchem master documentation</title>

    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deepchem master documentation" href="index.html" />
    <link rel="next" title="deepchem.data package" href="deepchem.data.html" />
    <link rel="prev" title="DeepChem" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/logo.png"></span>
          deepchem</a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">

                <li><a href="/docs/notebooks/index.html">Tutorials</a></li>


              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="/docs/deepchem.html">master</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="/docs/2.0.0/deepchem.html">2.0.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="/docs/1.3.1/deepchem.html">1.3.1</a></li>
</ul>
</ul>
</li>
</ul>
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

        </div>
    </div>
  </div>  </div><div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="deepchem-models-tensorflow-models-package">
<h1>deepchem.models.tensorflow_models package<a class="headerlink" href="#deepchem-models-tensorflow-models-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html">deepchem.models.tensorflow_models.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html#module-deepchem.models.tensorflow_models.tests.test_progressive">deepchem.models.tensorflow_models.tests.test_progressive module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html#module-deepchem.models.tensorflow_models.tests.test_utils">deepchem.models.tensorflow_models.tests.test_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html#module-deepchem.models.tensorflow_models.tests.test_vina_model">deepchem.models.tensorflow_models.tests.test_vina_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepchem.models.tensorflow_models.tests.html#module-deepchem.models.tensorflow_models.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepchem.models.tensorflow_models.IRV">
<span id="deepchem-models-tensorflow-models-irv-module"></span><h2>deepchem.models.tensorflow_models.IRV module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.IRV" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.IRV.</code><code class="descname">IRVLayer</code><span class="sig-paren">(</span><em>n_tasks</em>, <em>K</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.layers.Layer</span></code></a></p>
<p>Core layer of IRV classifier, architecture described in:
<a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/</a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.add_summary_to_tg">
<code class="descname">add_summary_to_tg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.add_summary_to_tg" title="Permalink to this definition">¶</a></dt>
<dd><p>Can only be called after self.create_layer to gaurentee that name is not none</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVLayer.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer with different inputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>replacements={}</em>, <em>variables_graph=None</em>, <em>shared=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate this Layer and all its inputs.</p>
<p>This is similar to clone(), but instead of only cloning one layer, it also
recursively calls copy() on all of this layer’s inputs to clone the entire
hierarchy of layers.  In the process, you can optionally tell it to replace
particular layers with specific existing ones.  For example, you can clone a
stack of layers, while connecting the topmost ones to different inputs.</p>
<p>For example, consider a stack of dense layers that depend on an input:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense1</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="nb">input</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense2</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense2</span><span class="p">)</span>
</pre></div>
</div>
<p>The following will clone all three dense layers, but not the input layer.
Instead, the input to the first dense layer will be a different layer
specified in the replacements map.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span><span class="nb">input</span><span class="p">:</span> <span class="n">new_input</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3_copy</span> <span class="o">=</span> <span class="n">dense3</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">replacements</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>replacements</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#map" title="(in Python v2.7)"><em>map</em></a>) – specifies existing layers, and the layers to replace them with (instead of
cloning them).  This argument serves two purposes.  First, you can pass in
a list of replacements to control which layers get cloned.  In addition,
as each layer is cloned, it is added to this map.  On exit, it therefore
contains a complete record of all layers that were copied, and a reference
to the copy of each one.</li>
<li><strong>variables_graph</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><em>TensorGraph</em></a>) – an optional TensorGraph from which to take variables.  If this is specified,
the current value of each variable in each layer is recorded, and the copy
has that value specified as its initial value.  This allows a piece of a
pre-trained model to be copied to another model.</li>
<li><strong>shared</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, create new layers by calling shared() on the input layers.
This means the newly created layers will share variables with the original
ones.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.create_tensor">
<code class="descname">create_tensor</code><span class="sig-paren">(</span><em>in_layers=None</em>, <em>set_tensors=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVLayer.create_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.create_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.layer_number_dict">
<code class="descname">layer_number_dict</code><em class="property"> = {}</em><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.layer_number_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.none_tensors">
<code class="descname">none_tensors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVLayer.none_tensors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.none_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.set_summary">
<code class="descname">set_summary</code><span class="sig-paren">(</span><em>summary_op</em>, <em>summary_description=None</em>, <em>collections=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.set_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotates a tensor with a tf.summary operation
Collects data from self.out_tensor by default but can be changed by setting
self.tb_input to another tensor in create_tensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>summary_op</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – summary operation to annotate node</li>
<li><strong>summary_description</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a><em>, </em><em>optional</em>) – Optional summary_pb2.SummaryDescription()</li>
<li><strong>collections</strong> (<em>list of graph collections keys</em><em>, </em><em>optional</em>) – New summary op is added to these collections. Defaults to [GraphKeys.SUMMARIES]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.set_tensors">
<code class="descname">set_tensors</code><span class="sig-paren">(</span><em>tensor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVLayer.set_tensors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.set_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.set_variable_initial_values">
<code class="descname">set_variable_initial_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.set_variable_initial_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the initial values of all variables.</p>
<p>This takes a list, which contains the initial values to use for all of
this layer’s values (in the same order retured by
TensorGraph.get_layer_variables()).  When this layer is used in a
TensorGraph, it will automatically initialize each variable to the value
specified in the list.  Note that some layers also have separate mechanisms
for specifying variable initializers; this method overrides them. The
purpose of this method is to let a Layer object represent a pre-trained
layer, complete with trained values for its variables.</p>
</dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.shape">
<code class="descname">shape</code><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of this Layer’s output.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVLayer.shared">
<code class="descname">shared</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVLayer.shared" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer that shares variables with it.</p>
<p>This is similar to clone(), but where clone() creates two independent layers,
this causes the layers to share variables with each other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in_layers</strong> (<em>list tensor</em>) – </li>
<li><strong>in tensors for the shared layer</strong> (<em>List</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer">Layer</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.IRV.</code><code class="descname">IRVRegularize</code><span class="sig-paren">(</span><em>IRVLayer</em>, <em>penalty=0.0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVRegularize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.layers.Layer</span></code></a></p>
<p>Extracts the trainable weights in IRVLayer
and return their L2-norm
No in_layers is required, but should be built after target IRVLayer</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.add_summary_to_tg">
<code class="descname">add_summary_to_tg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.add_summary_to_tg" title="Permalink to this definition">¶</a></dt>
<dd><p>Can only be called after self.create_layer to gaurentee that name is not none</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer with different inputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>replacements={}</em>, <em>variables_graph=None</em>, <em>shared=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate this Layer and all its inputs.</p>
<p>This is similar to clone(), but instead of only cloning one layer, it also
recursively calls copy() on all of this layer’s inputs to clone the entire
hierarchy of layers.  In the process, you can optionally tell it to replace
particular layers with specific existing ones.  For example, you can clone a
stack of layers, while connecting the topmost ones to different inputs.</p>
<p>For example, consider a stack of dense layers that depend on an input:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense1</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="nb">input</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense2</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense2</span><span class="p">)</span>
</pre></div>
</div>
<p>The following will clone all three dense layers, but not the input layer.
Instead, the input to the first dense layer will be a different layer
specified in the replacements map.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span><span class="nb">input</span><span class="p">:</span> <span class="n">new_input</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3_copy</span> <span class="o">=</span> <span class="n">dense3</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">replacements</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>replacements</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#map" title="(in Python v2.7)"><em>map</em></a>) – specifies existing layers, and the layers to replace them with (instead of
cloning them).  This argument serves two purposes.  First, you can pass in
a list of replacements to control which layers get cloned.  In addition,
as each layer is cloned, it is added to this map.  On exit, it therefore
contains a complete record of all layers that were copied, and a reference
to the copy of each one.</li>
<li><strong>variables_graph</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><em>TensorGraph</em></a>) – an optional TensorGraph from which to take variables.  If this is specified,
the current value of each variable in each layer is recorded, and the copy
has that value specified as its initial value.  This allows a piece of a
pre-trained model to be copied to another model.</li>
<li><strong>shared</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, create new layers by calling shared() on the input layers.
This means the newly created layers will share variables with the original
ones.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.create_tensor">
<code class="descname">create_tensor</code><span class="sig-paren">(</span><em>in_layers=None</em>, <em>set_tensors=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#IRVRegularize.create_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.create_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.layer_number_dict">
<code class="descname">layer_number_dict</code><em class="property"> = {}</em><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.layer_number_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.none_tensors">
<code class="descname">none_tensors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.none_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.set_summary">
<code class="descname">set_summary</code><span class="sig-paren">(</span><em>summary_op</em>, <em>summary_description=None</em>, <em>collections=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.set_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotates a tensor with a tf.summary operation
Collects data from self.out_tensor by default but can be changed by setting
self.tb_input to another tensor in create_tensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>summary_op</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – summary operation to annotate node</li>
<li><strong>summary_description</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a><em>, </em><em>optional</em>) – Optional summary_pb2.SummaryDescription()</li>
<li><strong>collections</strong> (<em>list of graph collections keys</em><em>, </em><em>optional</em>) – New summary op is added to these collections. Defaults to [GraphKeys.SUMMARIES]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.set_tensors">
<code class="descname">set_tensors</code><span class="sig-paren">(</span><em>tensor</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.set_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.set_variable_initial_values">
<code class="descname">set_variable_initial_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.set_variable_initial_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the initial values of all variables.</p>
<p>This takes a list, which contains the initial values to use for all of
this layer’s values (in the same order retured by
TensorGraph.get_layer_variables()).  When this layer is used in a
TensorGraph, it will automatically initialize each variable to the value
specified in the list.  Note that some layers also have separate mechanisms
for specifying variable initializers; this method overrides them. The
purpose of this method is to let a Layer object represent a pre-trained
layer, complete with trained values for its variables.</p>
</dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.shape">
<code class="descname">shape</code><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of this Layer’s output.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.IRVRegularize.shared">
<code class="descname">shared</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.IRVRegularize.shared" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer that shares variables with it.</p>
<p>This is similar to clone(), but where clone() creates two independent layers,
this causes the layers to share variables with each other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in_layers</strong> (<em>list tensor</em>) – </li>
<li><strong>in tensors for the shared layer</strong> (<em>List</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer">Layer</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.IRV.Slice">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.IRV.</code><code class="descname">Slice</code><span class="sig-paren">(</span><em>slice_num</em>, <em>axis=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#Slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.layers.Layer</span></code></a></p>
<p>Choose a slice of input on the last axis given order,
Suppose input x has two dimensions,
output f(x) = x[:, slice_num:slice_num+1]</p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.add_summary_to_tg">
<code class="descname">add_summary_to_tg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.add_summary_to_tg" title="Permalink to this definition">¶</a></dt>
<dd><p>Can only be called after self.create_layer to gaurentee that name is not none</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer with different inputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>replacements={}</em>, <em>variables_graph=None</em>, <em>shared=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate this Layer and all its inputs.</p>
<p>This is similar to clone(), but instead of only cloning one layer, it also
recursively calls copy() on all of this layer’s inputs to clone the entire
hierarchy of layers.  In the process, you can optionally tell it to replace
particular layers with specific existing ones.  For example, you can clone a
stack of layers, while connecting the topmost ones to different inputs.</p>
<p>For example, consider a stack of dense layers that depend on an input:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense1</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="nb">input</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense2</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">in_layers</span><span class="o">=</span><span class="n">dense2</span><span class="p">)</span>
</pre></div>
</div>
<p>The following will clone all three dense layers, but not the input layer.
Instead, the input to the first dense layer will be a different layer
specified in the replacements map.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_input</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span><span class="nb">input</span><span class="p">:</span> <span class="n">new_input</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense3_copy</span> <span class="o">=</span> <span class="n">dense3</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">replacements</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>replacements</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#map" title="(in Python v2.7)"><em>map</em></a>) – specifies existing layers, and the layers to replace them with (instead of
cloning them).  This argument serves two purposes.  First, you can pass in
a list of replacements to control which layers get cloned.  In addition,
as each layer is cloned, it is added to this map.  On exit, it therefore
contains a complete record of all layers that were copied, and a reference
to the copy of each one.</li>
<li><strong>variables_graph</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><em>TensorGraph</em></a>) – an optional TensorGraph from which to take variables.  If this is specified,
the current value of each variable in each layer is recorded, and the copy
has that value specified as its initial value.  This allows a piece of a
pre-trained model to be copied to another model.</li>
<li><strong>shared</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, create new layers by calling shared() on the input layers.
This means the newly created layers will share variables with the original
ones.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.create_tensor">
<code class="descname">create_tensor</code><span class="sig-paren">(</span><em>in_layers=None</em>, <em>set_tensors=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#Slice.create_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.create_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.layer_number_dict">
<code class="descname">layer_number_dict</code><em class="property"> = {}</em><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.layer_number_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.none_tensors">
<code class="descname">none_tensors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.none_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.set_summary">
<code class="descname">set_summary</code><span class="sig-paren">(</span><em>summary_op</em>, <em>summary_description=None</em>, <em>collections=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.set_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotates a tensor with a tf.summary operation
Collects data from self.out_tensor by default but can be changed by setting
self.tb_input to another tensor in create_tensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>summary_op</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – summary operation to annotate node</li>
<li><strong>summary_description</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a><em>, </em><em>optional</em>) – Optional summary_pb2.SummaryDescription()</li>
<li><strong>collections</strong> (<em>list of graph collections keys</em><em>, </em><em>optional</em>) – New summary op is added to these collections. Defaults to [GraphKeys.SUMMARIES]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.set_tensors">
<code class="descname">set_tensors</code><span class="sig-paren">(</span><em>tensor</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.set_tensors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.set_variable_initial_values">
<code class="descname">set_variable_initial_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.set_variable_initial_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the initial values of all variables.</p>
<p>This takes a list, which contains the initial values to use for all of
this layer’s values (in the same order retured by
TensorGraph.get_layer_variables()).  When this layer is used in a
TensorGraph, it will automatically initialize each variable to the value
specified in the list.  Note that some layers also have separate mechanisms
for specifying variable initializers; this method overrides them. The
purpose of this method is to let a Layer object represent a pre-trained
layer, complete with trained values for its variables.</p>
</dd></dl>

<dl class="attribute">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.shape">
<code class="descname">shape</code><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of this Layer’s output.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.Slice.shared">
<code class="descname">shared</code><span class="sig-paren">(</span><em>in_layers</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.Slice.shared" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this layer that shares variables with it.</p>
<p>This is similar to clone(), but where clone() creates two independent layers,
this causes the layers to share variables with each other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in_layers</strong> (<em>list tensor</em>) – </li>
<li><strong>in tensors for the shared layer</strong> (<em>List</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer">Layer</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.IRV.</code><code class="descname">TensorflowMultiTaskIRVClassifier</code><span class="sig-paren">(</span><em>n_tasks</em>, <em>K=10</em>, <em>penalty=0.0</em>, <em>mode='classification'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.tensor_graph.TensorGraph</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build_graph">
<code class="descname">build_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier.build_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.build_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the graph architecture of IRV as described in:</p>
<p><a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2750043/</a></p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<em>list</em>) – the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><em>Layer</em></a>) – the loss function to optimize.  If None, the model’s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) – the optimizer to use for training.  If None, the model’s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.default_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>TensorGraph style implementation</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) – the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) – this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_checkpoints">
<code class="descname">get_checkpoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_checkpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available checkpoint files.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em>, <em>restore=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>generator</strong> (<em>Generator</em>) – Generator that constructs feed dictionaries for TensorGraph.</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs.
If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
<li><strong>Returns</strong> – y_pred: numpy ndarray of shape (n_samples, n_classes*n_tasks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/IRV.html#TensorflowMultiTaskIRVClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>checkpoint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the path to the checkpoint file to load.  If this is None, the most recent
checkpoint will be chosen automatically.  Call get_checkpoints() to get a
list of all available checkpoints.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.IRV.TensorflowMultiTaskIRVClassifier.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.fcnet">
<span id="deepchem-models-tensorflow-models-fcnet-module"></span><h2>deepchem.models.tensorflow_models.fcnet module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.fcnet" title="Permalink to this headline">¶</a></h2>
<p>TensorFlow implementation of fully connected networks.</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">MultiTaskClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, layer_sizes=[1000], weight_init_stddevs=0.02, bias_init_consts=1.0, weight_decay_penalty=0.0, weight_decay_penalty_type='l2', dropouts=0.5, activation_fns=&lt;function relu&gt;, n_classes=2, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.tensor_graph.TensorGraph</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<em>list</em>) – the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><em>Layer</em></a>) – the loss function to optimize.  If None, the model’s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) – the optimizer to use for training.  If None, the model’s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskClassifier.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) – the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) – this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_checkpoints">
<code class="descname">get_checkpoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_checkpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available checkpoint files.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em>, <em>restore=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset to make prediction on</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>generator</strong> (<em>Generator</em>) – Generator that constructs feed dictionaries for TensorGraph.</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs.
If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
<li><strong>Returns</strong> – y_pred: numpy ndarray of shape (n_samples, n_classes*n_tasks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>checkpoint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the path to the checkpoint file to load.  If this is None, the most recent
checkpoint will be chosen automatically.  Call get_checkpoints() to get a
list of all available checkpoints.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskClassifier.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">MultiTaskFitTransformRegressor</code><span class="sig-paren">(</span><em>n_tasks</em>, <em>n_features</em>, <em>fit_transformers=[]</em>, <em>n_evals=1</em>, <em>batch_size=50</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskFitTransformRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor" title="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor</span></code></a></p>
<p>Implements a MultiTaskRegressor that performs on-the-fly transformation during fit/predict.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n_samples</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_features</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_tasks</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_tasks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">NumpyDataset</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fit_transformers</span> <span class="o">=</span> <span class="p">[</span><span class="n">dc</span><span class="o">.</span><span class="n">trans</span><span class="o">.</span><span class="n">CoulombFitTransformer</span><span class="p">(</span><span class="n">dataset</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">MultiTaskFitTransformRegressor</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">,</span> <span class="p">[</span><span class="n">n_features</span><span class="p">,</span> <span class="n">n_features</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">dropouts</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">],</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.003</span><span class="p">,</span> <span class="n">weight_init_stddevs</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1000</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">batch_size</span><span class="o">=</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">fit_transformers</span><span class="o">=</span><span class="n">fit_transformers</span><span class="p">,</span> <span class="n">n_evals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">n_features after fit_transform: 12</span>
</pre></div>
</div>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<em>list</em>) – the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><em>Layer</em></a>) – the loss function to optimize.  If None, the model’s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) – the optimizer to use for training.  If None, the model’s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskFitTransformRegressor.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) – the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) – this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_checkpoints">
<code class="descname">get_checkpoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_checkpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available checkpoint files.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em>, <em>restore=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset to make prediction on</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskFitTransformRegressor.predict_on_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset to make prediction on</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>checkpoint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the path to the checkpoint file to load.  If this is None, the most recent
checkpoint will be chosen automatically.  Call get_checkpoints() to get a
list of all available checkpoints.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskFitTransformRegressor.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.fcnet.</code><code class="descname">MultiTaskRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, layer_sizes=[1000], weight_init_stddevs=0.02, bias_init_consts=1.0, weight_decay_penalty=0.0, weight_decay_penalty_type='l2', dropouts=0.5, activation_fns=&lt;function relu&gt;, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.TensorGraph" title="deepchem.models.tensorgraph.tensor_graph.TensorGraph"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorgraph.tensor_graph.TensorGraph</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.add_output">
<code class="descname">add_output</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.add_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.create_submodel">
<code class="descname">create_submodel</code><span class="sig-paren">(</span><em>layers=None</em>, <em>loss=None</em>, <em>optimizer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.create_submodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an alternate objective for training one piece of a TensorGraph.</p>
<p>A TensorGraph consists of a set of layers, and specifies a loss function and
optimizer to use for training those layers.  Usually this is sufficient, but
there are cases where you want to train different parts of a model separately.
For example, a GAN consists of a generator and a discriminator.  They are
trained separately, and they use different loss functions.</p>
<p>A submodel defines an alternate objective to use in cases like this.  It may
optionally specify any of the following: a subset of layers in the model to
train; a different loss function; and a different optimizer to use.  This
method creates a submodel, which you can then pass to fit() to use it for
training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layers</strong> (<em>list</em>) – the list of layers to train.  If None, all layers in the model will be
trained.</li>
<li><strong>loss</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.layers.Layer" title="deepchem.models.tensorgraph.layers.Layer"><em>Layer</em></a>) – the loss function to optimize.  If None, the model’s main loss function
will be used.</li>
<li><strong>optimizer</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.optimizers.Optimizer" title="deepchem.models.tensorgraph.optimizers.Optimizer"><em>Optimizer</em></a>) – the optimizer to use for training.  If None, the model’s main optimizer
will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>the newly created submodel, which can be passed to any of the fitting</em></li>
<li><em>methods.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.default_generator">
<code class="descname">default_generator</code><span class="sig-paren">(</span><em>dataset</em>, <em>epochs=1</em>, <em>predict=False</em>, <em>deterministic=True</em>, <em>pad_batches=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/fcnet.html#MultiTaskRegressor.default_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.default_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.evaluate_generator">
<code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>labels=None</em>, <em>outputs=None</em>, <em>weights=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>deterministic=False</em>, <em>restore=False</em>, <em>submodel=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> (<a class="reference internal" href="deepchem.data.html#deepchem.data.datasets.Dataset" title="deepchem.data.datasets.Dataset"><em>Dataset</em></a>) – the Dataset to train on</li>
<li><strong>nb_epoch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of epochs to train for</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>deterministic</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, the samples are processed in order.  If False, a different random
order is used for each epoch.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit_generator">
<code class="descname">fit_generator</code><span class="sig-paren">(</span><em>feed_dict_generator</em>, <em>max_checkpoints_to_keep=5</em>, <em>checkpoint_interval=1000</em>, <em>restore=False</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this model on data from a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feed_dict_generator</strong> (<em>generator</em>) – this should generate batches, each represented as a dict that maps
Layers to values.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the frequency at which to write checkpoints, measured in training steps.
Set this to 0 to disable automatic checkpointing.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – if True, restore the model from the most recent checkpoint and continue training
from there.  If False, retrain the model from scratch.</li>
<li><strong>submodel</strong> (<a class="reference internal" href="deepchem.models.tensorgraph.html#deepchem.models.tensorgraph.tensor_graph.Submodel" title="deepchem.models.tensorgraph.tensor_graph.Submodel"><em>Submodel</em></a>) – an alternate training objective to use.  This should have been created by
calling create_submodel().</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">the average loss over the most recent checkpoint interval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em>, <em>submodel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_checkpoints">
<code class="descname">get_checkpoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_checkpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available checkpoint files.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_global_step">
<code class="descname">get_global_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_layer_variables">
<code class="descname">get_layer_variables</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_layer_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of trainable variables in a layer of the graph.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_pickling_errors">
<code class="descname">get_pickling_errors</code><span class="sig-paren">(</span><em>obj</em>, <em>seen=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_pickling_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_pre_q_input">
<code class="descname">get_pre_q_input</code><span class="sig-paren">(</span><em>input_layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_pre_q_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.load_from_dir">
<code class="descname">load_from_dir</code><span class="sig-paren">(</span><em>model_dir</em>, <em>restore=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.load_from_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset to make prediction on</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_on_generator">
<code class="descname">predict_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>generator</strong> (<em>Generator</em>) – Generator that constructs feed dictionaries for TensorGraph.</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs.
If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
<li><strong>Returns</strong> – y_pred: numpy ndarray of shape (n_samples, n_classes*n_tasks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset to make prediction on</li>
<li><strong>transformers</strong> (<em>list</em>) – List of dc.trans.Transformers.</li>
<li><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) – If outputs is None, then will assume outputs = self.outputs[0] (single
output). If outputs is a Layer/Tensor, then will evaluate and return as a
single ndarray. If outputs is a list of Layers/Tensors, will return a list
of ndarrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y_pred</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy ndarray or list of numpy ndarrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates predictions for input samples, processing samples in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>ndarray</em>) – the input data, as a Numpy array.</li>
<li><strong>transformers</strong> (<em>List</em>) – List of dc.trans.Transformers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A Numpy array of predictions.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba_on_generator">
<code class="descname">predict_proba_on_generator</code><span class="sig-paren">(</span><em>generator</em>, <em>transformers=[]</em>, <em>outputs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.predict_proba_on_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>checkpoint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the values of all variables from a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the path to the checkpoint file to load.  If this is None, the most recent
checkpoint will be chosen automatically.  Call get_checkpoints() to get a
list of all available checkpoints.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.save_checkpoint">
<code class="descname">save_checkpoint</code><span class="sig-paren">(</span><em>max_checkpoints_to_keep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint to disk.</p>
<p>Usually you do not need to call this method, since fit() saves checkpoints
automatically.  If you have disabled automatic checkpointing during fitting,
this can be called to manually write checkpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the maximum number of checkpoints to keep.  Older checkpoints are discarded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_loss">
<code class="descname">set_loss</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_optimizer">
<code class="descname">set_optimizer</code><span class="sig-paren">(</span><em>optimizer</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_optimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the optimizer to use for fitting.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.topsort">
<code class="descname">topsort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.fcnet.MultiTaskRegressor.topsort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.progressive_joint">
<span id="deepchem-models-tensorflow-models-progressive-joint-module"></span><h2>deepchem.models.tensorflow_models.progressive_joint module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.progressive_joint" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepchem.models.tensorflow_models.progressive_multitask">
<span id="deepchem-models-tensorflow-models-progressive-multitask-module"></span><h2>deepchem.models.tensorflow_models.progressive_multitask module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.progressive_multitask" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepchem.models.tensorflow_models.robust_multitask">
<span id="deepchem-models-tensorflow-models-robust-multitask-module"></span><h2>deepchem.models.tensorflow_models.robust_multitask module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.robust_multitask" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepchem.models.tensorflow_models.utils">
<span id="deepchem-models-tensorflow-models-utils-module"></span><h2>deepchem.models.tensorflow_models.utils module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.utils" title="Permalink to this headline">¶</a></h2>
<p>Utils for graph convolution models.</p>
<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Kurtosis">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Kurtosis</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Kurtosis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Kurtosis" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute kurtosis, the fourth standardized moment minus three.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> – Input tensor.</li>
<li><strong>reduction_indices</strong> – Axes to reduce across. If None, reduce to a scalar.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Mask">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Mask</code><span class="sig-paren">(</span><em>t</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a mask to a tensor.</p>
<p>If not None, mask should be a t.shape[:-1] tensor of 0,1 values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – Input tensor.</li>
<li><strong>mask</strong> – Boolean mask with shape == t.shape[:-1]. If None, nothing happens.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tensor with the same shape as the input tensor.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If shapes do not match.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Mean">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Mean</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute mean using Sum and Mul for better GPU performance.</p>
<p>See tf.nn.moments for additional notes on this approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> – Input tensor.</li>
<li><strong>reduction_indices</strong> – Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> – Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Moment">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Moment</code><span class="sig-paren">(</span><em>k</em>, <em>tensor</em>, <em>standardize=False</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the k-th central moment of a tensor, possibly standardized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>k</strong> – Which moment to compute. 1 = mean, 2 = variance, etc.</li>
<li><strong>tensor</strong> – Input tensor.</li>
<li><strong>standardize</strong> – If True, returns the standardized moment, i.e. the central
moment divided by the n-th power of the standard deviation.</li>
<li><strong>reduction_indices</strong> – Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> – Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The mean and the requested moment.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.ParseCheckpoint">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">ParseCheckpoint</code><span class="sig-paren">(</span><em>checkpoint</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#ParseCheckpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.ParseCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a checkpoint file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> – Path to checkpoint. The checkpoint is either a serialized
CheckpointState proto or an actual checkpoint file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The path to an actual checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Skewness">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Skewness</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Skewness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Skewness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute skewness, the third standardized moment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> – Input tensor.</li>
<li><strong>reduction_indices</strong> – Axes to reduce across. If None, reduce to a scalar.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.StringToOp">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">StringToOp</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#StringToOp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.StringToOp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a TensorFlow op from a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> – String description of an op, such as ‘sum’ or ‘mean’.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TensorFlow op.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – If string does not match a supported operation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.utils.Variance">
<code class="descclassname">deepchem.models.tensorflow_models.utils.</code><code class="descname">Variance</code><span class="sig-paren">(</span><em>tensor</em>, <em>reduction_indices=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/utils.html#Variance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.utils.Variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute variance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> – Input tensor.</li>
<li><strong>reduction_indices</strong> – Axes to reduce across. If None, reduce to a scalar.</li>
<li><strong>mask</strong> – Mask to apply to tensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with the same type as the input tensor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models.vina_model">
<span id="deepchem-models-tensorflow-models-vina-model-module"></span><h2>deepchem.models.tensorflow_models.vina_model module<a class="headerlink" href="#module-deepchem.models.tensorflow_models.vina_model" title="Permalink to this headline">¶</a></h2>
<p>Implements Autodock Vina’s pose-generation in tensorflow.</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">VinaModel</code><span class="sig-paren">(</span><em>max_local_steps=10</em>, <em>max_mutations=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#VinaModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.html#deepchem.models.models.Model" title="deepchem.models.models.Model"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.models.Model</span></code></a></p>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>N_protein=1000</em>, <em>N_ligand=100</em>, <em>M=50</em>, <em>ndim=3</em>, <em>k=5</em>, <em>nbr_cutoff=6</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#VinaModel.construct_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the computational graph for Vina.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X_protein</em>, <em>Z_protein</em>, <em>X_ligand</em>, <em>Z_ligand</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#VinaModel.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit to actual data.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.generate_conformation">
<code class="descname">generate_conformation</code><span class="sig-paren">(</span><em>protein</em>, <em>ligand</em>, <em>max_steps=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#VinaModel.generate_conformation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.generate_conformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the global search for conformations.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of tasks.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.mutate_conformer">
<code class="descname">mutate_conformer</code><span class="sig-paren">(</span><em>protein</em>, <em>ligand</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#VinaModel.mutate_conformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.mutate_conformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a mutation on the ligand position.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>batch_size=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) – Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>batch_size=None</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) – Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload trained model from disk.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatcher function for saving.</p>
<p>Each subclass is responsible for overriding this method.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.vina_model.VinaModel.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.VinaModel.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.compute_closest_neighbors">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">compute_closest_neighbors</code><span class="sig-paren">(</span><em>coords</em>, <em>cells</em>, <em>atoms_in_cells</em>, <em>neighbor_cells</em>, <em>N</em>, <em>n_cells</em>, <em>ndim=3</em>, <em>k=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#compute_closest_neighbors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.compute_closest_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes nearest neighbors from neighboring cells.</p>
<p>TODO(rbharath): Make this pass test</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>atoms_in_cells</strong> (<em>list</em>) – Of length n_cells. Each entry tensor of shape (k, ndim)</li>
<li><strong>neighbor_cells</strong> (<em>tf.Tensor</em>) – Of shape (n_cells, 26).</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number atoms</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.compute_neighbor_cells">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">compute_neighbor_cells</code><span class="sig-paren">(</span><em>cells</em>, <em>ndim</em>, <em>n_cells</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#compute_neighbor_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.compute_neighbor_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute neighbors of cells in grid.</p>
<p># TODO(rbharath): Do we need to handle periodic boundary conditions
properly here?
# TODO(rbharath): This doesn’t handle boundaries well. We hard-code
# looking for 26 neighbors, which isn’t right for boundary cells in
# the cube.</p>
<p>Note n_cells is box_size**ndim. 26 is the number of neighbors of a cube in
a grid (including diagonals).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cells</strong> (<em>tf.Tensor</em>) – (n_cells, 26) shape.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.compute_neighbor_list">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">compute_neighbor_list</code><span class="sig-paren">(</span><em>coords</em>, <em>nbr_cutoff</em>, <em>N</em>, <em>M</em>, <em>n_cells</em>, <em>ndim=3</em>, <em>k=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#compute_neighbor_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.compute_neighbor_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a neighbor list from atom coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coords</strong> (<em>tf.Tensor</em>) – Shape (N, ndim)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Max number atoms</li>
<li><strong>M</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Max number neighbors</li>
<li><strong>ndim</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Dimensionality of space.</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number of nearest neighbors to pull down.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nbr_list</strong> – Shape (N, M) of atom indices</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tf.Tensor</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.cutoff">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">cutoff</code><span class="sig-paren">(</span><em>d</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#cutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates interactions that are too far away.</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.g">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">g</code><span class="sig-paren">(</span><em>c</em>, <em>Nrot</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#g"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.g" title="Permalink to this definition">¶</a></dt>
<dd><p>Nonlinear function mapping interactions to free energy.</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.gauss_1">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">gauss_1</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#gauss_1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.gauss_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes first Gaussian interaction term.</p>
<p>Note that d must be in Angstrom</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.gauss_2">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">gauss_2</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#gauss_2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.gauss_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes second Gaussian interaction term.</p>
<p>Note that d must be in Angstrom.</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.get_cells">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">get_cells</code><span class="sig-paren">(</span><em>start</em>, <em>stop</em>, <em>nbr_cutoff</em>, <em>ndim=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#get_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.get_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the locations of all grid points in box.</p>
<p>Suppose start is -10 Angstrom, stop is 10 Angstrom, nbr_cutoff is 1.
Then would return a list of length 20^3 whose entries would be
[(-10, -10, -10), (-10, -10, -9), …, (9, 9, 9)]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>cells</strong> – (box_size**ndim, ndim) shape.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tf.Tensor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.get_cells_for_atoms">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">get_cells_for_atoms</code><span class="sig-paren">(</span><em>coords</em>, <em>cells</em>, <em>N</em>, <em>n_cells</em>, <em>ndim=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#get_cells_for_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.get_cells_for_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the cells each atom belongs to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coords</strong> (<em>tf.Tensor</em>) – Shape (N, ndim)</li>
<li><strong>cells</strong> (<em>tf.Tensor</em>) – (box_size**ndim, ndim) shape.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cells_for_atoms</strong> – Shape (N, 1)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tf.Tensor</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.h">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">h</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#h"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.h" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum of energy terms used in Autodock Vina.</p>
<div class="math">
\[h_{t_i,t_j}(d) = w_1        extrm{gauss}_1(d) + w_2 extrm{gauss}_2(d) + w_3 extrm{repulsion}(d) + w_4       extrm{hydrophobic}(d) + w_5     extrm{hbond}(d)\]</div>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.hbond">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">hbond</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#hbond"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.hbond" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes hydrogen bond term.</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.hydrophobic">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">hydrophobic</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#hydrophobic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.hydrophobic" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute hydrophobic interaction term.</p>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.put_atoms_in_cells">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">put_atoms_in_cells</code><span class="sig-paren">(</span><em>coords</em>, <em>cells</em>, <em>N</em>, <em>n_cells</em>, <em>ndim</em>, <em>k=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#put_atoms_in_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.put_atoms_in_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Place each atom into cells. O(N) runtime.</p>
<p>Let N be the number of atoms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coords</strong> (<em>tf.Tensor</em>) – (N, 3) shape.</li>
<li><strong>cells</strong> (<em>tf.Tensor</em>) – (n_cells, ndim) shape.</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number atoms</li>
<li><strong>ndim</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Dimensionality of input space</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number of nearest neighbors.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>closest_atoms</strong> – Of shape (n_cells, k, ndim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tf.Tensor</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.vina_model.repulsion">
<code class="descclassname">deepchem.models.tensorflow_models.vina_model.</code><code class="descname">repulsion</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models/vina_model.html#repulsion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.vina_model.repulsion" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes repulsion interaction term.</p>
</dd></dl>

</div>
<div class="section" id="module-deepchem.models.tensorflow_models">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-deepchem.models.tensorflow_models" title="Permalink to this headline">¶</a></h2>
<p>Helper operations and classes for general model building.</p>
<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowClassifier</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="deepchem.models.tensorflow_models.TensorflowGraphModel"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowGraphModel</span></code></a></p>
<p>Classification model.</p>
<dl class="docutils">
<dt>Subclasses must set the following attributes:</dt>
<dd><dl class="first last docutils">
<dt>output: logits op(s) used for computing classification loss and predicted</dt>
<dd>class probabilities for each task.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size x n_classes.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>logits</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logits</strong> – Tensor with shape batch_size x n_classes containing logits.</li>
<li><strong>labels</strong> – Tensor with shape batch_size x n_classes containing true labels
in a one-hot encoding.</li>
<li><strong>weights</strong> – Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) – Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.get_task_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> – dc.data.dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>output: Model outputs.</dt>
<dd><p class="first last">labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Tuple of three numpy arrays with shape n_examples x n_tasks (x …)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in evaluation mode.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowClassifier.predict_proba_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> – dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">output: Model outputs.
Note that the output arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Tuple of three numpy arrays with shape n_examples x n_tasks (x …)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in evaluation mode.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> – string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowClassifier.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowGraph</code><span class="sig-paren">(</span><em>graph</em>, <em>session</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Simple class that holds information needed to run Tensorflow graph.</p>
<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.get_feed_dict">
<em class="property">static </em><code class="descname">get_feed_dict</code><span class="sig-paren">(</span><em>named_values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.get_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.get_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.get_placeholder_scope">
<em class="property">static </em><code class="descname">get_placeholder_scope</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.get_placeholder_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.get_placeholder_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets placeholder scope.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="deepchem.models.tensorflow_models.TensorflowGraph.shared_name_scope">
<em class="property">static </em><code class="descname">shared_name_scope</code><span class="sig-paren">(</span><em>name</em>, <em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraph.shared_name_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraph.shared_name_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a singleton TensorFlow scope with the given name.</p>
<p>Used to prevent ‘_1’-appended scopes when sharing scopes with child classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – String. Name scope for group of operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tf.name_scope with the provided name.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowGraphModel</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="deepchem.models.html#deepchem.models.models.Model" title="deepchem.models.models.Model"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.models.Model</span></code></a></p>
<p>Parent class for deepchem Tensorflow models.</p>
<dl class="docutils">
<dt>Classifier:</dt>
<dd>n_classes</dd>
</dl>
<p>Has the following attributes:</p>
<blockquote>
<div><dl class="docutils">
<dt>placeholder_root: String placeholder prefix, used to create</dt>
<dd>placeholder_scope.</dd>
</dl>
</div></blockquote>
<p>Generic base class for defining, training, and evaluating TensorflowGraphs.</p>
<dl class="docutils">
<dt>Subclasses must implement the following methods:</dt>
<dd>build
add_output_ops
add_training_cost</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>train</strong> – If True, model is in training mode.</li>
<li><strong>logdir</strong> – Directory for output files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_example_weight_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd><dl class="first last docutils">
<dt>labels_%d: Float label tensor. For classification tasks, this tensor will</dt>
<dd>have shape batch_size x n_classes. For regression tasks, this tensor
will have shape batch_size.</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_output_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace logits with softmax outputs.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.add_training_cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.construct_feed_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.construct_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> – Tensor with model outputs.</li>
<li><strong>labels</strong> – Tensor with true labels.</li>
<li><strong>weights</strong> – Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example. For use in subclasses that want to calculate additional costs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) – Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.get_num_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently models can only be classifiers or regressors.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.get_training_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) – Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) – Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> – string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowGraphModel.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowGraphModel.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowGraphModel.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor">
<em class="property">class </em><code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">TensorflowRegressor</code><span class="sig-paren">(</span><em>n_tasks, n_features, logdir=None, layer_sizes=[1000], weight_init_stddevs=[0.02], bias_init_consts=[1.0], penalty=0.0, penalty_type='l2', dropouts=[0.5], learning_rate=0.001, momentum=0.9, optimizer='adam', batch_size=50, n_classes=2, pad_batches=False, verbose=True, seed=None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepchem.models.tensorflow_models.TensorflowGraphModel" title="deepchem.models.tensorflow_models.TensorflowGraphModel"><code class="xref py py-class docutils literal"><span class="pre">deepchem.models.tensorflow_models.TensorflowGraphModel</span></code></a></p>
<p>Regression model.</p>
<dl class="docutils">
<dt>Subclasses must set the following attributes:</dt>
<dd><dl class="first last docutils">
<dt>output: Op(s) used for computing regression loss and predicted regression</dt>
<dd>outputs for each task.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_example_weight_placeholders">
<code class="descname">add_example_weight_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_example_weight_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for example weights for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>weights_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_label_placeholders">
<code class="descname">add_label_placeholders</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.add_label_placeholders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_label_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Placeholders for labels for each task.</p>
<dl class="docutils">
<dt>This method creates the following Placeholders for each task:</dt>
<dd>labels_%d: Label tensor with shape batch_size.</dd>
</dl>
<p>Placeholders are wrapped in identity ops to avoid the error caused by
feeding and fetching the same tensor.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_output_ops">
<code class="descname">add_output_ops</code><span class="sig-paren">(</span><em>graph</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.add_output_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_output_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op for regression models since no softmax.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.add_training_cost">
<code class="descname">add_training_cost</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.add_training_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>name_scopes</em>, <em>training</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the core graph.</p>
<p>NOTE(user): Operations defined here should be in their own name scope to
avoid any ambiguity when restoring checkpoints.
:raises: <code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.construct_feed_dict">
<code class="descname">construct_feed_dict</code><span class="sig-paren">(</span><em>X_b</em>, <em>y_b=None</em>, <em>w_b=None</em>, <em>ids_b=None</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.construct_feed_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a minibatch of data into a feed_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> – if not overridden by concrete subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.construct_graph">
<code class="descname">construct_graph</code><span class="sig-paren">(</span><em>training</em>, <em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.construct_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TensorflowGraph object.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.cost">
<code class="descname">cost</code><span class="sig-paren">(</span><em>output</em>, <em>labels</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single-task training cost for a batch of examples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> – Tensor with shape batch_size containing predicted values.</li>
<li><strong>labels</strong> – Tensor with shape batch_size containing true values.</li>
<li><strong>weights</strong> – Tensor with shape batch_size containing example weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tensor with shape batch_size containing the weighted cost for each
example.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>dataset</em>, <em>metrics</em>, <em>transformers=[]</em>, <em>per_task_metrics=False</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the performance of this model on specified dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object.</li>
<li><strong>metric</strong> (<a class="reference internal" href="deepchem.metrics.html#deepchem.metrics.Metric" title="deepchem.metrics.Metric"><em>deepchem.metrics.Metric</em></a>) – Evaluation metric</li>
<li><strong>transformers</strong> (<em>list</em>) – List of deepchem.transformers.Transformer</li>
<li><strong>per_task_metrics</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – If True, return per-task scores.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Maps tasks to scores under metric.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>dataset</em>, <em>nb_epoch=10</em>, <em>max_checkpoints_to_keep=5</em>, <em>log_every_N_batches=50</em>, <em>checkpoint_interval=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> (<em>dc.data.Dataset</em>) – Dataset object holding training data</li>
<li><strong>nb_epoch</strong> (<em>10</em>) – Number of training epochs.</li>
<li><strong>max_checkpoints_to_keep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Maximum number of checkpoints to keep; older checkpoints will be deleted.</li>
<li><strong>log_every_N_batches</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Report every N batches. Useful for training on very large datasets,
where epochs can take long time to finish.</li>
<li><strong>checkpoint_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Frequency at which to write checkpoints, measured in epochs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in training mode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.fit_on_batch">
<code class="descname">fit_on_batch</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.fit_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates existing model with new information.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_model_filename">
<code class="descname">get_model_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_model_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_num_tasks">
<code class="descname">get_num_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> – Parameter names mapped to their values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mapping of string to any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_params_filename">
<code class="descname">get_params_filename</code><span class="sig-paren">(</span><em>model_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_params_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Given model directory, obtain filename for the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_task_type">
<code class="descname">get_task_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.get_task_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_task_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.get_training_op">
<code class="descname">get_training_op</code><span class="sig-paren">(</span><em>graph</em>, <em>loss</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.get_training_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training op for applying gradients to variables.</p>
<p>Subclasses that need to do anything fancy with gradients should override
this method.</p>
<p>Returns:
A training op.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses self to make predictions on provided Dataset object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples,)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_on_batch">
<code class="descname">predict_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#TensorflowRegressor.predict_on_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model output for the provided input.</p>
<p>Restore(checkpoint) must have previously been called on this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataset</strong> – dc.data.Dataset object.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>output: Model outputs.</dt>
<dd><p class="first last">labels: True labels.
weights: Example weights.</p>
</dd>
</dl>
<p>Note that the output and labels arrays may be more than 2D, e.g. for
classifier models that return class probabilities.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Tuple of three numpy arrays with shape n_examples x n_tasks (x …)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> – If model is not in evaluation mode.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If output and labels are not both 3D or both 2D.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>dataset</em>, <em>transformers=[]</em>, <em>n_classes=2</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Do transformers even make sense here?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy ndarray of shape (n_samples, n_classes*n_tasks)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">y_pred</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba_on_batch">
<code class="descname">predict_proba_on_batch</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.predict_proba_on_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of class probabilities on given batch of new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>np.ndarray</em>) – Features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads model from disk. Thin wrapper around restore() for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the model from the provided training checkpoint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checkpoint</strong> – string. Path to checkpoint file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op since tf models save themselves during fit()</p>
</dd></dl>

<dl class="method">
<dt id="deepchem.models.tensorflow_models.TensorflowRegressor.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#deepchem.models.tensorflow_models.TensorflowRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="deepchem.models.tensorflow_models.softmax">
<code class="descclassname">deepchem.models.tensorflow_models.</code><code class="descname">softmax</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deepchem/models/tensorflow_models.html#softmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepchem.models.tensorflow_models.softmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple numpy softmax implementation</p>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/deepchem.models.tensorflow_models.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2016, Stanford University and the Authors.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>